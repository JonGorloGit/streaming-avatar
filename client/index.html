<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <title>HR-Service</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" /> 
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body>
  <!-- Datenschutz-Banner -->
  <div id="consent-overlay" class="consent-overlay hidden">
    <div class="glass-card consent-modal">
      <div class="consent-text">
        <h2>Datenschutzhinweis</h2>
          <p>
            Diese Anwendung nutzt externe Anbieter (z.&nbsp;B. OpenAI, HeyGen), um Ihre Eingaben zu verarbeiten.
          </p>
          <p style="margin-top:1rem;font-weight:bold;color:var(--cws-neon);">
            Geben Sie <u>keine personenbezogenen Daten</u> oder <u>unternehmensinternen Informationen</u> ein.
          </p>
          <p style="margin-top:1rem;">
            Mit „Zustimmen & Fortfahren“ bestätigen Sie, dass Sie diese Hinweise verstanden haben.
          </p>
          <button id="consent-accept">Zustimmen & Fortfahren</button>
      </div>
    </div>
  </div>

  <!-- ───────────── AVATAR UI ───────────── -->
  <section id="avatar-ui" class="glass-card hidden">
    <h1>HR-Beratungscenter</h1>

    <video id="avatarVideo" autoplay playsinline></video>
    <div id="avatar-progress" class="progress-circle avatar-progress" title="Fortschritt">
      <svg viewBox="0 0 36 36">
        <path class="circle-bg" d="M18 2a16 16 0 1 1 0 32 16 16 0 1 1 0-32" />
        <path class="circle"     d="M18 2a16 16 0 1 1 0 32 16 16 0 1 1 0-32" />
      </svg>
      <div class="progress-text">0/5</div>
    </div>
    <section role="group">
      <textarea id="userInput" rows="1" placeholder="Nachricht …"></textarea>
      <button id="speakButton">Sprechen</button>
    </section>
  </section>

  <!-- ───────────── CHAT UI (neues Layout) ───────────── -->
  <section id="chat-ui" class="hidden">
    <div class="chatbot-card">

      <!-- Kopfzeile -->
      <header class="chatbot-header">
        HR-Beratungscenter
        <div id="chat-progress" class="progress-circle chat-progress" title="Fortschritt">
          <svg viewBox="0 0 36 36">
            <path class="circle-bg" d="M18 2a16 16 0 1 1 0 32 16 16 0 1 1 0-32" />
            <path class="circle"     d="M18 2a16 16 0 1 1 0 32 16 16 0 1 1 0-32" />
          </svg>
          <div class="progress-text">0/5</div>
        </div>
      </header>      

      <!-- Nachrichtenliste -->
      <section class="chatbot-body" id="chatbot-body"></section>

      <!-- Eingabe -->
      <footer class="chatbot-input">
        <textarea id="chat-input" placeholder="Nachricht …" rows="1"></textarea>
        <button id="chat-send" title="Senden (Strg+Enter)">
          ▲
        </button>
      </footer>

    </div>
  </section>
  <div id="experiment-complete-overlay">
    <div id="experiment-complete-banner">
      <h3>Aufgabe erfüllt</h3>
      <p>Bitte kehren Sie nun zur Umfrage zurück und teilen Sie Ihre Eindrücke mit. Nutzen Sie dazu die Zurück-Schaltfläche im Browser oder Ihren Umfrage-Link.</p>
    </div>
  </div>  

  <!-- Vite Entry -->
  <script type="module" src="/src/main.ts"></script>
</body>
</html>
